# React H5 Template

ä¸€ä¸ªç°ä»£åŒ–çš„ React H5 åº”ç”¨å¼€å‘æ¨¡æ¿ï¼ŒåŸºäºæœ€æ–°çš„æŠ€æœ¯æ ˆæ„å»ºï¼Œå¼€ç®±å³ç”¨ã€‚

## âœ¨ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶

- **[React 19.2.0](https://react.dev/)** - æœ€æ–°çš„ React æ¡†æ¶ï¼Œæä¾›æ›´å¥½çš„æ€§èƒ½å’Œå¼€å‘ä½“éªŒ
- **[Vite 7.2.5](https://vite.dev/)** - åŸºäº Rolldown çš„ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œæé€Ÿçš„å¼€å‘å’Œæ„å»ºä½“éªŒ
- **[TypeScript 5.9.3](https://www.typescriptlang.org/)** - ç±»å‹å®‰å…¨çš„ JavaScript è¶…é›†

### UI ç»„ä»¶åº“

- **[shadcn/ui](https://ui.shadcn.com/)** - åŸºäº Radix UI å’Œ Tailwind CSS çš„é«˜è´¨é‡ç»„ä»¶åº“
  - ä½¿ç”¨ `new-york` é£æ ¼
  - å›¾æ ‡åº“ï¼š[lucide-react](https://lucide.dev/)
  - å·²é…ç½®è·¯å¾„åˆ«åï¼š`@/components`, `@/components/ui`, `@/lib`, `@/hooks`

### æ ·å¼æ–¹æ¡ˆ

- **[Tailwind CSS 4.1.18](https://tailwindcss.com/)** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
  - ä½¿ç”¨æœ€æ–°çš„ Vite æ’ä»¶ `@tailwindcss/vite`
  - æ”¯æŒ CSS å˜é‡ä¸»é¢˜é…ç½®
  - åŸºç¡€é¢œè‰²ï¼šneutral

### æ•°æ®è¯·æ±‚ä¸çŠ¶æ€ç®¡ç†

- **[TanStack Query (React Query) 5.90.17](https://tanstack.com/query/latest)** - å¼ºå¤§çš„æ•°æ®åŒæ­¥åº“
  - å·²é…ç½® QueryClient å’Œ QueryClientProvider
  - æä¾›æ•°æ®ç¼“å­˜ã€åŒæ­¥ã€æ›´æ–°ç­‰åŠŸèƒ½
- **[Zustand 5.0.10](https://zustand-demo.pmnd.rs/)** - è½»é‡çº§çŠ¶æ€ç®¡ç†åº“
  - ç®€å•æ˜“ç”¨çš„ APIï¼Œæ— éœ€ Provider
  - æ”¯æŒä¸­é—´ä»¶ï¼ˆpersistã€devtools ç­‰ï¼‰
  - å·²é…ç½®åŸºç¡€çš„ appStoreï¼ŒåŒ…å«ç”¨æˆ·ä¿¡æ¯ã€ä¸»é¢˜ã€è¯­è¨€ç­‰çŠ¶æ€
- **[axios 1.13.2](https://axios-http.com/)** - åŸºäº Promise çš„ HTTP å®¢æˆ·ç«¯
  - å·²å°è£…è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨
  - æ”¯æŒç»Ÿä¸€é”™è¯¯å¤„ç†å’Œ token ç®¡ç†
- **[react-router-dom 7.12.0](https://reactrouter.com/)** - å®˜æ–¹è·¯ç”±åº“
  - å·²é…ç½® BrowserRouter
  - åŒ…å«è·¯ç”±ç¤ºä¾‹ï¼ˆé¦–é¡µã€å…³äºé¡µã€404 é¡µé¢ï¼‰

### å¼€å‘å·¥å…·

- **[ESLint 9.39.1](https://eslint.org/)** - ä»£ç è´¨é‡æ£€æŸ¥å·¥å…·
  - ä½¿ç”¨ TypeScript ESLint
  - æ”¯æŒ React Hooks è§„åˆ™
- **[React Compiler](https://react.dev/learn/react-compiler)** - React å®˜æ–¹ç¼–è¯‘å™¨
  - è‡ªåŠ¨ä¼˜åŒ–ç»„ä»¶æ¸²æŸ“æ€§èƒ½
  - æ³¨æ„ï¼šä¼šå½±å“ Vite å¼€å‘å’Œæ„å»ºæ€§èƒ½

### å…¶ä»–å·¥å…·

- **[react-helmet-async](https://github.com/staylor/react-helmet-async)** - ç®¡ç† HTML head æ ‡ç­¾ï¼Œç”¨äº SEO å’Œé¡µé¢å…ƒæ•°æ®
- **[class-variance-authority](https://cva.style/)** - ç»„ä»¶å˜ä½“ç®¡ç†å·¥å…·
- **[clsx](https://github.com/lukeed/clsx)** + **[tailwind-merge](https://github.com/dcastil/tailwind-merge)** - ç±»ååˆå¹¶å·¥å…·

## ğŸ“¦ å·²å®‰è£…çš„ä¾èµ–

### ç”Ÿäº§ä¾èµ–

```json
{
  "@radix-ui/react-slot": "^1.2.4",
  "@tailwindcss/vite": "^4.1.18",
  "@tanstack/react-query": "^5.90.17",
  "axios": "^1.13.2",
  "class-variance-authority": "^0.7.1",
  "clsx": "^2.1.1",
  "lucide-react": "^0.562.0",
  "react": "^19.2.0",
  "react-dom": "^19.2.0",
  "react-helmet-async": "^2.0.5",
  "react-router-dom": "^7.12.0",
  "tailwind-merge": "^3.4.0",
  "tailwindcss": "^4.1.18",
  "zustand": "^5.0.10"
}
```

### å¼€å‘ä¾èµ–

```json
{
  "@eslint/js": "^9.39.1",
  "@types/node": "^25.0.9",
  "@types/react": "^19.2.5",
  "@types/react-dom": "^19.2.3",
  "@vitejs/plugin-react": "^5.1.1",
  "babel-plugin-react-compiler": "^1.0.0",
  "eslint": "^9.39.1",
  "eslint-plugin-react-hooks": "^7.0.1",
  "eslint-plugin-react-refresh": "^0.4.24",
  "globals": "^16.5.0",
  "tw-animate-css": "^1.4.0",
  "typescript": "~5.9.3",
  "typescript-eslint": "^8.46.4",
  "vite": "npm:rolldown-vite@7.2.5"
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ npm
npm install

# ä½¿ç”¨ yarn
yarn install

# ä½¿ç”¨ pnpm
pnpm install

# ä½¿ç”¨ bun
bun install
```

### å¼€å‘

```bash
npm run dev
```

### æ„å»º

```bash
npm run build
```

### é¢„è§ˆæ„å»ºç»“æœ

```bash
npm run preview
```

### ä»£ç æ£€æŸ¥

```bash
npm run lint
```

### æµ‹è¯•ç¯å¢ƒæ„å»º

ä½¿ç”¨æµ‹è¯•ç¯å¢ƒå˜é‡æ„å»ºé¡¹ç›®ï¼š

```bash
# ä½¿ç”¨ bunï¼ˆæ¨èï¼‰
bun test

# æˆ–ä½¿ç”¨ npm/yarn/pnpm
npm run test
```

æµ‹è¯•ç¯å¢ƒæ„å»ºä¼šï¼š

- è‡ªåŠ¨åŠ è½½ `.env.test` æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡
- è¾“å‡ºåˆ° `dist-test` ç›®å½•
- ä½¿ç”¨æµ‹è¯•ç¯å¢ƒçš„ API åœ°å€ç­‰é…ç½®

## ğŸ“ é¡¹ç›®ç»“æ„

```
react-h5-template/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/            # èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ components/         # ç»„ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ ui/            # shadcn/ui ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ErrorBoundary.tsx  # é”™è¯¯è¾¹ç•Œç»„ä»¶
â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ useDebounce.ts # é˜²æŠ– Hook
â”‚   â”‚   â””â”€â”€ index.ts       # Hooks å¯¼å‡º
â”‚   â”œâ”€â”€ lib/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request.ts     # axios è¯·æ±‚å°è£…
â”‚   â”‚   â””â”€â”€ utils.ts       # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.tsx       # é¦–é¡µï¼ˆåŒ…å«æ‰€æœ‰åº“çš„ä½¿ç”¨ç¤ºä¾‹ï¼‰
â”‚   â”‚   â”œâ”€â”€ About.tsx      # å…³äºé¡µ
â”‚   â”‚   â””â”€â”€ NotFound.tsx   # 404 é¡µé¢
â”‚   â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.tsx      # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ store/             # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ appStore.ts    # åº”ç”¨çŠ¶æ€ store
â”‚   â”‚   â””â”€â”€ index.ts       # Store å¯¼å‡º
â”‚   â”œâ”€â”€ utils/             # å…¶ä»–å·¥å…·
â”‚   â”‚   â””â”€â”€ api.ts         # API æ¥å£å°è£…
â”‚   â”œâ”€â”€ App.tsx            # æ ¹ç»„ä»¶ï¼ˆå·²è¿ç§»åˆ°è·¯ç”±ç³»ç»Ÿï¼‰
â”‚   â”œâ”€â”€ App.css            # åº”ç”¨æ ·å¼
â”‚   â”œâ”€â”€ index.css          # å…¨å±€æ ·å¼ï¼ˆTailwind CSSï¼‰
â”‚   â””â”€â”€ main.tsx           # åº”ç”¨å…¥å£
â”œâ”€â”€ components.json         # shadcn/ui é…ç½®æ–‡ä»¶
â”œâ”€â”€ vite.config.ts         # Vite é…ç½®
â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â”œâ”€â”€ .env.example           # ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶
â”œâ”€â”€ .env.test              # æµ‹è¯•ç¯å¢ƒå˜é‡ï¼ˆéœ€è¦åˆ›å»ºï¼‰
â””â”€â”€ package.json           # é¡¹ç›®ä¾èµ–
```

## âš™ï¸ é…ç½®è¯´æ˜

### è·¯å¾„åˆ«å

å·²é…ç½®è·¯å¾„åˆ«åï¼Œå¯åœ¨ä»£ç ä¸­ä½¿ç”¨ï¼š

- `@/` â†’ `src/`
- `@/components` â†’ `src/components`
- `@/components/ui` â†’ `src/components/ui`
- `@/lib` â†’ `src/lib`
- `@/store` â†’ `src/store`
- `@/utils` â†’ `src/utils`
- `@/hooks` â†’ `src/hooks`

### shadcn/ui é…ç½®

- **é£æ ¼**: new-york
- **åŸºç¡€é¢œè‰²**: neutral
- **CSS å˜é‡**: å·²å¯ç”¨
- **å›¾æ ‡åº“**: lucide-react

### React Query é…ç½®

å·²åœ¨ `src/main.tsx` ä¸­é…ç½® QueryClientProviderï¼Œå¯ç›´æ¥ä½¿ç”¨ React Query hooksã€‚

### Zustand çŠ¶æ€ç®¡ç†

å·²åˆ›å»ºåŸºç¡€çš„ `appStore`ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š

- **ç”¨æˆ·ä¿¡æ¯ç®¡ç†**: `user`ã€`setUser`ã€`clearUser`
- **ä¸»é¢˜è®¾ç½®**: `theme`ã€`setTheme`ï¼ˆæ”¯æŒ light/dark/systemï¼‰
- **åŠ è½½çŠ¶æ€**: `loading`ã€`setLoading`
- **è¯­è¨€è®¾ç½®**: `locale`ã€`setLocale`
- **çŠ¶æ€é‡ç½®**: `reset`

ä½¿ç”¨ç¤ºä¾‹ï¼š

```typescript
import { useAppStore } from "@/store";

function MyComponent() {
  // è·å–çŠ¶æ€å’Œ actions
  const { user, theme, setUser, setTheme } = useAppStore();

  // æˆ–è€…åªè®¢é˜…éœ€è¦çš„éƒ¨åˆ†ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
  const user = useAppStore((state) => state.user);
  const setUser = useAppStore((state) => state.setUser);

  return (
    <div>
      <p>å½“å‰ç”¨æˆ·: {user?.name}</p>
      <button onClick={() => setTheme("dark")}>åˆ‡æ¢ä¸»é¢˜</button>
    </div>
  );
}
```

**æŒä¹…åŒ–**: appStore å·²é…ç½® `persist` ä¸­é—´ä»¶ï¼Œç”¨æˆ·ä¿¡æ¯ã€ä¸»é¢˜å’Œè¯­è¨€è®¾ç½®ä¼šè‡ªåŠ¨ä¿å­˜åˆ° localStorageã€‚

### ç¯å¢ƒå˜é‡é…ç½®

é¡¹ç›®æ”¯æŒå¤šç¯å¢ƒé…ç½®ï¼Œé€šè¿‡ `.env` æ–‡ä»¶ç®¡ç†ï¼š

- `.env` - æœ¬åœ°å¼€å‘ç¯å¢ƒï¼ˆä¼šè¢« git å¿½ç•¥ï¼‰
- `.env.test` - æµ‹è¯•ç¯å¢ƒ
- `.env.production` - ç”Ÿäº§ç¯å¢ƒï¼ˆä¼šè¢« git å¿½ç•¥ï¼‰
- `.env.example` - ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶

ç¯å¢ƒå˜é‡å¿…é¡»ä»¥ `VITE_` å¼€å¤´æ‰èƒ½åœ¨ä»£ç ä¸­è®¿é—®ï¼š

```typescript
// åœ¨ä»£ç ä¸­ä½¿ç”¨
const apiUrl = import.meta.env.VITE_API_BASE_URL;
```

### H5 ç§»åŠ¨ç«¯ä¼˜åŒ–

æ¨¡æ¿å·²é’ˆå¯¹ç§»åŠ¨ç«¯ H5 åº”ç”¨è¿›è¡Œäº†ä¼˜åŒ–ï¼š

- **Viewport é…ç½®**: å·²ä¼˜åŒ–ç§»åŠ¨ç«¯è§†å£è®¾ç½®ï¼Œç¦ç”¨ç¼©æ”¾
- **é”™è¯¯è¾¹ç•Œ**: å·²æ·»åŠ  `ErrorBoundary` ç»„ä»¶ï¼Œæ•è·å¹¶ä¼˜é›…å¤„ç†é”™è¯¯
- **è‡ªå®šä¹‰ Hooks**: æä¾›äº†å¸¸ç”¨ Hooksï¼ˆå¦‚ `useDebounce`ï¼‰
- **å“åº”å¼è®¾è®¡**: ä½¿ç”¨ Tailwind CSS å®ç°ç§»åŠ¨ç«¯é€‚é…

### è·¯ç”±é…ç½®

é¡¹ç›®ä½¿ç”¨ `react-router-dom` è¿›è¡Œè·¯ç”±ç®¡ç†ï¼Œè·¯ç”±é…ç½®åœ¨ `src/router/index.tsx`ï¼š

```typescript
import { createBrowserRouter } from "react-router-dom";
import Home from "@/pages/Home";
import About from "@/pages/About";
import NotFound from "@/pages/NotFound";

export const router = createBrowserRouter([
  {
    path: "/",
    element: <Home />,
  },
  {
    path: "/about",
    element: <About />,
  },
  {
    path: "*",
    element: <NotFound />,
  },
]);
```

**å·²åŒ…å«çš„é¡µé¢**ï¼š

- `/` - é¦–é¡µï¼ˆåŒ…å«æ‰€æœ‰åº“çš„ä½¿ç”¨ç¤ºä¾‹ï¼‰
- `/about` - å…³äºé¡µ
- `*` - 404 é¡µé¢

**æ·»åŠ æ–°è·¯ç”±**ï¼š

1. åœ¨ `src/pages/` åˆ›å»ºæ–°é¡µé¢ç»„ä»¶
2. åœ¨ `src/router/index.tsx` ä¸­æ·»åŠ è·¯ç”±é…ç½®

### é¡µé¢ç¤ºä¾‹

`src/pages/Home.tsx` åŒ…å«äº†æ‰€æœ‰ç¬¬ä¸‰æ–¹åº“çš„å®Œæ•´ä½¿ç”¨ç¤ºä¾‹ï¼ŒåŒ…æ‹¬ï¼š

- âœ… React Router (è·¯ç”±å¯¼èˆª)
- âœ… React Query (useQuery, useMutation)
- âœ… Zustand çŠ¶æ€ç®¡ç†
- âœ… Axios è¯·æ±‚å°è£…
- âœ… react-helmet-async SEO ç®¡ç†
- âœ… lucide-react å›¾æ ‡ä½¿ç”¨
- âœ… shadcn/ui ç»„ä»¶å±•ç¤º
- âœ… Tailwind CSS æ ·å¼ç¤ºä¾‹

å¯ä»¥ç›´æ¥å‚è€ƒ `src/pages/Home.tsx` äº†è§£å¦‚ä½•ä½¿ç”¨å„ä¸ªåº“ã€‚

## ğŸ”§ React Compiler

æœ¬æ¨¡æ¿å·²å¯ç”¨ React Compilerï¼Œå®ƒä¼šè‡ªåŠ¨ä¼˜åŒ–ç»„ä»¶æ¸²æŸ“æ€§èƒ½ã€‚æ›´å¤šä¿¡æ¯è¯·æŸ¥çœ‹ [React Compiler æ–‡æ¡£](https://react.dev/learn/react-compiler)ã€‚

**æ³¨æ„**: React Compiler ä¼šå½±å“ Vite å¼€å‘å’Œæ„å»ºæ€§èƒ½ã€‚

## ğŸ“ æ‰©å±• ESLint é…ç½®

å¦‚æœä½ æ­£åœ¨å¼€å‘ç”Ÿäº§åº”ç”¨ï¼Œå»ºè®®æ›´æ–°é…ç½®ä»¥å¯ç”¨ç±»å‹æ„ŸçŸ¥çš„ lint è§„åˆ™ï¼š

```js
export default defineConfig([
  globalIgnores(["dist"]),
  {
    files: ["**/*.{ts,tsx}"],
    extends: [
      // Other configs...

      // Remove tseslint.configs.recommended and replace with this
      tseslint.configs.recommendedTypeChecked,
      // Alternatively, use this for stricter rules
      tseslint.configs.strictTypeChecked,
      // Optionally, add this for stylistic rules
      tseslint.configs.stylisticTypeChecked,

      // Other configs...
    ],
    languageOptions: {
      parserOptions: {
        project: ["./tsconfig.node.json", "./tsconfig.app.json"],
        tsconfigRootDir: import.meta.dirname,
      },
      // other options...
    },
  },
]);
```

ä½ ä¹Ÿå¯ä»¥å®‰è£… [eslint-plugin-react-x](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x) å’Œ [eslint-plugin-react-dom](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-dom) æ¥å¯ç”¨ React ç‰¹å®šçš„ lint è§„åˆ™ï¼š

```js
// eslint.config.js
import reactX from "eslint-plugin-react-x";
import reactDom from "eslint-plugin-react-dom";

export default defineConfig([
  globalIgnores(["dist"]),
  {
    files: ["**/*.{ts,tsx}"],
    extends: [
      // Other configs...
      // Enable lint rules for React
      reactX.configs["recommended-typescript"],
      // Enable lint rules for React DOM
      reactDom.configs.recommended,
    ],
    languageOptions: {
      parserOptions: {
        project: ["./tsconfig.node.json", "./tsconfig.app.json"],
        tsconfigRootDir: import.meta.dirname,
      },
      // other options...
    },
  },
]);
```

## ğŸ“„ License

MIT

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
